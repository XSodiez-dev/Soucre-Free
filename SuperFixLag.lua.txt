--By Tuáº¥n Anh IOS
local Lighting = game:GetService("Lighting")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local Workspace = game:GetService("Workspace")

-- ğŸ”¹ HÃ m kiá»ƒm tra váº­t thá»ƒ cÃ³ thá»ƒ Ä‘á»•i mÃ u khÃ´ng
local function CanChangeColor(obj)
    return obj:IsA("BasePart") and obj:IsDescendantOf(Workspace) and not obj:IsDescendantOf(LocalPlayer.Character)
end

-- ğŸ”¹ HÃ m biáº¿n váº­t thá»ƒ thÃ nh Ä‘Ã¡ vá»›i bá» máº·t pháº³ng
local function MakeStone(obj)
    if CanChangeColor(obj) then
        pcall(function()
            obj.Color = Color3.fromRGB(115, 115, 115) -- MÃ u xÃ¡m Ä‘Ã¡
            obj.Material = Enum.Material.SmoothPlastic -- LÃ m pháº³ng bá» máº·t
            obj.Reflectance = 0 -- Loáº¡i bá» Ä‘á»™ bÃ³ng
        end)
    end
end

-- ğŸ”¹ Ãp dá»¥ng hiá»‡u á»©ng Ä‘Ã¡ pháº³ng cho toÃ n bá»™ váº­t thá»ƒ hiá»‡n cÃ³
for _, obj in pairs(Workspace:GetDescendants()) do
    MakeStone(obj)
end

-- ğŸ”¹ Khi cÃ³ váº­t thá»ƒ má»›i xuáº¥t hiá»‡n, tá»± Ä‘á»™ng biáº¿n nÃ³ thÃ nh Ä‘Ã¡ pháº³ng
Workspace.DescendantAdded:Connect(function(obj)
    task.wait(0.2) -- TÄƒng thá»i gian chá» cho Ä‘iá»‡n thoáº¡i
    MakeStone(obj)
end)

-- ğŸ”¹ XÃ³a hiá»‡u á»©ng gÃ¢y lag trong game
local function RemoveUnnecessaryEffects(obj)
    pcall(function()
        if obj:IsA("ParticleEmitter") or 
           obj:IsA("Beam") or 
           obj:IsA("Trail") or 
           obj:IsA("Fire") or 
           obj:IsA("Smoke") or 
           obj:IsA("Sparkles") or 
           obj:IsA("Explosion") or 
           obj:IsA("Highlight") or 
           obj:IsA("Decal") or 
           obj:IsA("Texture") or 
           obj:IsA("PointLight") or 
           obj:IsA("SurfaceLight") or 
           obj:IsA("SpotLight") then
            obj:Destroy()
        end
    end)
end

-- ğŸ”¹ XÃ³a táº¥t cáº£ hiá»‡u á»©ng cÃ³ sáºµn trong game
for _, obj in pairs(Workspace:GetDescendants()) do
    RemoveUnnecessaryEffects(obj)
end

-- ğŸ”¹ Khi cÃ³ hiá»‡u á»©ng má»›i xuáº¥t hiá»‡n, tá»± Ä‘á»™ng xÃ³a ngay láº­p tá»©c
Workspace.DescendantAdded:Connect(function(obj)
    task.wait(0.1)
    RemoveUnnecessaryEffects(obj)
end)

-- ğŸ”¹ Táº¯t toÃ n bá»™ hiá»‡u á»©ng Ã¡nh sÃ¡ng Ä‘á»ƒ game sÃ¡ng rÃµ hÆ¡n
pcall(function()
    Lighting.GlobalShadows = false
    Lighting.Brightness = 2
    Lighting.Ambient = Color3.new(1,1,1)
    Lighting.OutdoorAmbient = Color3.new(1,1,1)
    Lighting.FogEnd = 1000000 -- XÃ³a sÆ°Æ¡ng mÃ¹
    Lighting.Technology = Enum.Technology.Compatibility -- Táº¯t hiá»‡u á»©ng bÃ³ng

    -- XÃ³a báº§u trá»i nhÆ°ng khÃ´ng lÃ m mÃ n hÃ¬nh Ä‘en
    local sky = Lighting:FindFirstChild("Sky")
    if sky then
        sky:Destroy()
    end
end)

-- ğŸ”¹ XÃ³a quáº§n Ã¡o vÃ  Ä‘Æ°a nhÃ¢n váº­t vá» mÃ u máº·c Ä‘á»‹nh cá»§a Roblox
local function ResetCharacterAppearance(character)
    pcall(function()
        for _, obj in pairs(character:GetChildren()) do
            if obj:IsA("Shirt") or obj:IsA("Pants") or obj:IsA("ShirtGraphic") then
                obj:Destroy() -- XÃ³a quáº§n Ã¡o
            end
            if obj:IsA("BodyColors") then
                obj:Destroy() -- XÃ³a mÃ u tÃ¹y chá»‰nh
            end
        end

        -- Äáº·t láº¡i mÃ u sáº¯c cÆ¡ thá»ƒ thÃ nh máº·c Ä‘á»‹nh
        for _, part in pairs(character:GetChildren()) do
            if part:IsA("BasePart") then
                part.Color = Color3.fromRGB(163, 162, 165) -- MÃ u máº·c Ä‘á»‹nh cá»§a Roblox R6
            end
        end
    end)
end

-- ğŸ”¹ Ãp dá»¥ng lÃªn nhÃ¢n váº­t hiá»‡n táº¡i cá»§a ngÆ°á»i chÆ¡i
if LocalPlayer.Character then
    ResetCharacterAppearance(LocalPlayer.Character)
end

-- ğŸ”¹ Khi nhÃ¢n váº­t respawn, tiáº¿p tá»¥c reset ngoáº¡i hÃ¬nh
LocalPlayer.CharacterAdded:Connect(function(character)
    task.wait(1) -- TÄƒng thá»i gian chá» Ä‘á»ƒ Ä‘áº£m báº£o nhÃ¢n váº­t load xong trÃªn Ä‘iá»‡n thoáº¡i
    ResetCharacterAppearance(character)
end)

-- ğŸ”¹ XÃ³a quáº§n Ã¡o cá»§a táº¥t cáº£ quÃ¡i váº­t trong game
local function RemoveEnemyClothes()
    if Workspace:FindFirstChild("Enemies") then
        for _, enemy in pairs(Workspace.Enemies:GetChildren()) do
            ResetCharacterAppearance(enemy)
        end
    end
end

-- ğŸ”¹ XÃ³a quáº§n Ã¡o quÃ¡i ngay khi script cháº¡y
RemoveEnemyClothes()

-- ğŸ”¹ Tá»± Ä‘á»™ng xÃ³a quáº§n Ã¡o khi cÃ³ quÃ¡i má»›i xuáº¥t hiá»‡n
if Workspace:FindFirstChild("Enemies") then
    Workspace.Enemies.ChildAdded:Connect(function(enemy)
        task.wait(1) -- TÄƒng thá»i gian chá» trÃªn Ä‘iá»‡n thoáº¡i
        ResetCharacterAppearance(enemy)
    end)
end

print("âœ… ÄÃ£ Fix Lag ") 
